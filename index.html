<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Depoimentos</title>
<style>
    body { font-family: Arial, sans-serif; max-width: 500px; margin: auto; padding: 10px; }
    .depoimento {
        background: #f8f8f8;
        padding: 10px;
        margin: 10px 0;
        border-radius: 8px;
    }
    .avaliacao { color: gold; }
</style>
</head>
<body>

<h2>Deixe seu depoimento</h2>

<form id="formDepoimento">
    <input type="text" id="nome" placeholder="Seu nome" required><br><br>
    <textarea id="depoimento" placeholder="Seu depoimento" required></textarea><br><br>
    <select id="avaliacao">
        <option value="5">⭐⭐⭐⭐⭐</option>
        <option value="4">⭐⭐⭐⭐</option>
        <option value="3">⭐⭐⭐</option>
        <option value="2">⭐⭐</option>
        <option value="1">⭐</option>
    </select><br><br>
    <button id="btnSalvar" type="button">Salvar depoimento</button>
</form>

<h3>Depoimentos</h3>
<div id="listaDepoimentos"></div>

<script>
function exibirDepoimentos() {
    const lista = document.getElementById("listaDepoimentos");
    lista.innerHTML = "";

    let depoimentos = JSON.parse(localStorage.getItem("depoimentos")) || [];

    depoimentos.forEach(dep => {
        let div = document.createElement("div");
        div.classList.add("depoimento");

        div.innerHTML = `
            <strong>${dep.nome}</strong> <br>
            <span class="avaliacao">${"⭐".repeat(dep.avaliacao)}</span><br>
            <p>${dep.mensagem}</p>
        `;
        lista.appendChild(div);
    });
}

document.getElementById("btnSalvar").addEventListener("click", (event) => {
    event.preventDefault();

    const nome = document.getElementById("nome").value.trim();
    const mensagem = document.getElementById("depoimento").value.trim();
    const avaliacao = document.getElementById("avaliacao").value;

    if (!nome || !mensagem) {
        alert("Preencha todos os campos!");
        return;
    }

    let depoimentos = JSON.parse(localStorage.getItem("depoimentos")) || [];
    depoimentos.push({ nome, mensagem, avaliacao });
    localStorage.setItem("depoimentos", JSON.stringify(depoimentos));

    exibirDepoimentos();
    document.getElementById("formDepoimento").reset();
    alert("Depoimento registrado com sucesso! ✅");
});

exibirDepoimentos(); // mostra depoimentos salvos ao carregar a página
</script>

</body>
</html>
